<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- displays site properly based on user's device -->

  <link rel="icon" type="image/png" sizes="32x32" href="./images/favicon-32x32.png">

  <title>Intro component with sign up form</title>

  <link rel="stylesheet" href="styles.css">

  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

</head>

<body>

  <img class="bg-img" src="images/bg-intro-desktop.png" alt="Img">

  <div class="main">

    <div class="head">
      <h1>Learn to code by watching others</h1>
      <p>See how experienced developers solve problems in real-time. Watching scripted tutorials is great,
        but understanding how developers think is invaluable.</p>
    </div>

    <div class="info">

      <div class="top">
        <p>Try it free 7 days <span>then $20/mo. thereafter</span></p>
      </div>

      <div class="mid">

        <form class="cont" id="Form" action="/" method="POST">

          <div class="input-cont">
            <input id="fname" name="fname" type="text" placeholder="First Name" onfocus="this.placeholder=''" onblur="this.placeholder='First Name'" required>
            <img src="images/icon-error.svg" class="icon-error" id="fname-icon-error" alt="">
            <p class="error" id="fname-error">First Name cannot be empty</p>
          </div>

          <div class="input-cont">
            <input id="lname" name="lname" type="text" placeholder="Last Name" onfocus="this.placeholder=''" onblur="this.placeholder='Last Name'" required>
            <img src="images/icon-error.svg" class="icon-error" id="lname-icon-error" alt="">
            <p class="error" id="lname-error">Last Name cannot be empty</p>
          </div>

          <div class="input-cont">
            <input id="email" name="email" type="email" placeholder="Email Address" onfocus="this.placeholder=''" onblur="this.placeholder='Email Address'" required>
            <img src="images/icon-error.svg" class="icon-error" id="email-icon-error" alt="">
            <p class="error" id="email-error">Looks like this is not an email</p>
          </div>

          <div class="input-cont">
            <input id="password" name="password" type="password" placeholder="Password" onfocus="this.placeholder=''" onblur="this.placeholder='Password'" required>
            <img src="images/icon-error.svg" class="icon-error" id="password-icon-error" alt="">
            <p class="error" id="password-error">Password cannot be empty</p>
          </div>

          <button class="button" type="submit" id="button">CLAIM YOUR FREE TRAIL</button>
          <!-- <input type="submit" class="button" id="button" value="CLAIM YOUR FREE TRAIL"> -->

        </form>

        <p class="bottom">By clicking the button, you are agreeing to our <span class="red-txt">Terms and Services</span></p>

      </div>

    </div>
  </div>


  <footer>
    <p class="attribution">
      Challenge by <a href="https://www.frontendmentor.io?ref=challenge" target="_blank">Frontend Mentor</a>.
      Coded by <a href="#">Deep Siroya</a>.
    </p>
  </footer>

  <script>
    var fname = document.getElementById("fname");
    var lname = document.getElementById("lname");
    var email = document.getElementById("email");
    var password = document.getElementById("password");
    var mybutton = document.getElementById("button");
    var errors = 0;

    function validate(userInput, errorIcon, errorText) {
      if (userInput.value === '' || userInput.value === null) {
        userInput.style.border = "3px solid #FF7A7A";
        errorIcon.style.display = "inline";
        errorText.style.display = "block";
        errors += 1;
      } else {
        userInput.style.border = "1px solid #B9B6D3";
        errorIcon.style.display = "none";
        errorText.style.display = "none";
      }
    }

    function validateFname() {
      let errorIcon = document.getElementById("fname-icon-error");
      let errorText = document.getElementById("fname-error");
      validate(fname, errorIcon, errorText);
    }

    function validateLname() {
      let errorIcon = document.getElementById("lname-icon-error");
      let errorText = document.getElementById("lname-error");
      validate(lname, errorIcon, errorText);
    }

    function validateEmail() {
      let errorIcon = document.getElementById("email-icon-error");
      let errorText = document.getElementById("email-error");
      if (!email.value.includes('@') || !email.value.includes('.com') || email.value === '' || email.value === ' ') {
        email.style.border = '3px solid #FF7A7A';
        errorIcon.style.display = 'inline';
        errorText.style.display = 'block';
        errors += 1;
      } else {
        email.style.border = '1px solid #B9B6D3';
        errorIcon.style.display = 'none';
        errorText.style.display = 'none';
      }
    }

    function validatePassword() {
      let errorIcon = document.getElementById("password-icon-error");
      let errorText = document.getElementById("password-error");
      validate(password, errorIcon, errorText);
    }

    mybutton.addEventListener("click", function(e) {
      e.preventDefault();

      validateFname();
      validateLname();
      validateEmail();
      validatePassword();

      if (errors === 0) {
        fname.value = '';
        lname.value = '';
        email.value = '';
        password.value = '';
        alert('Thank you! Registration Completed');
      }
      errors = 0;
    });
  </script>

</body>

</html>